var o=Object.defineProperty;var c=(t,e,n)=>e in t?o(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var a=(t,e,n)=>(c(t,typeof e!="symbol"?e+"":e,n),n);import{E as h,S as m,C as l,a as d,b as w,e as g,V as i,P as r,f as C,L as u,G as p}from"./stlFileLoader.839e0f6f.js";import{d as f,r as v,o as L,a as z,c as M}from"./index.97196840.js";class S{constructor(e){a(this,"canvas");a(this,"engine");a(this,"scene");a(this,"camera1");a(this,"meshes",[]);this.canvas=e,this.CreateScene(),this.CreateModel(),this.CreateCamera(),this.CreateLight(),this.engine.runRenderLoop(()=>{this.scene.render()}),window.addEventListener("resize",()=>{this.engine.resize()})}CreateScene(){this.engine=new h(this.canvas,!0,{adaptToDeviceRatio:!0}),this.engine.setHardwareScalingLevel(1/window.devicePixelRatio),this.scene=new m(this.engine);const e=l.CreateFromPrefilteredData("environment/harbor.env",this.scene);e.gammaSpace=!1,this.scene.environmentTexture=e,this.scene.environmentIntensity=.2,this.scene.clearColor=new d(0,0,0,1)}async CreateModel(){await w.ImportMeshAsync("","model/Lab/","SCENE.gltf",this.scene)}CreateCamera(){this.camera1=new g("camera1",0,Math.PI/2,4,new i(2.5,-1,-3),this.scene),window.innerHeight/window.innerWidth>1.76&&(this.camera1.radius=7),this.camera1.position=new i(-1,2.81,1),this.camera1.attachControl(),this.camera1.minZ=0,this.camera1.wheelPrecision=10}CreateLight(){const e=new r("pointLight",new i(1.5,1.8,-1.5),this.scene);e.intensity=5,e.radius=10;const n=new r("pointLight2",new i(-1.2,.8,-1.5),this.scene);n.diffuse=new C(1,165/255,0),n.intensity=5,n.range=.2}CreateGizmos(e){const n=new u;n.scaleRatio=2,n.light=e;const s=new p(this.scene);s.positionGizmoEnabled=!0,s.rotationGizmoEnabled=!0,s.usePointerToAttachGizmos=!1,s.attachToMesh(n.attachedMesh)}}const P=f({setup(t){const e=v();return L(()=>{new S(e.value)}),(n,s)=>(z(),M("canvas",{ref_key:"bjsCanvas",ref:e,class:"h-screen w-full"},null,512))}});export{P as default};
