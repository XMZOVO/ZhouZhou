var m=Object.defineProperty;var u=(i,e,t)=>e in i?m(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var s=(i,e,t)=>(u(i,typeof e!="symbol"?e+"":e,t),t);import{E as v,S as p,C as g,a as w,b as l,c as x,d as y,A as n,V as r,e as _}from"./stlFileLoader.839e0f6f.js";import{d as f,r as d,o as C,a as S,c as A,b as a,n as o,F as b,e as E}from"./index.97196840.js";class M{constructor(e,t){s(this,"canvas");s(this,"engine");s(this,"scene");s(this,"camera1");s(this,"meshes",[]);s(this,"currentTarget","GuaGua");s(this,"radius");s(this,"compensate",{y:0,x:0});s(this,"loaded");this.canvas=e,this.loaded=t,window.innerHeight/window.innerWidth>1.76?(this.radius=7,this.compensate.y=1.5,this.compensate.x=0):(this.radius=4,this.compensate.y=0,this.compensate.x=1.5),this.CreateScene(),this.CreateModel(),this.CreateCamera(),this.engine.runRenderLoop(()=>{this.scene.render()}),window.addEventListener("resize",()=>{this.engine.resize()})}CreateScene(){this.engine=new v(this.canvas,!0,{adaptToDeviceRatio:!0}),this.engine.setHardwareScalingLevel(1/window.devicePixelRatio),this.scene=new p(this.engine);const e=g.CreateFromPrefilteredData("environment/harbor.env",this.scene);e.gammaSpace=!1,this.scene.environmentTexture=e,this.scene.createDefaultSkybox(e,!0,1e3,.25),this.scene.environmentIntensity=1,this.scene.clearColor=new w(.16,.36,.47,1)}async CreateModel(){const e=await l.ImportMeshAsync("","model/jiggly_watermelon_jello/","untitled.gltf",this.scene),t=await l.ImportMeshAsync("","model/Detector_model/","Detector.gltf",this.scene);t.meshes[0].position.y=-6,this.meshes.push(t.meshes[0]),this.meshes.push(e.meshes[0]),this.scene.createDefaultLight(!0),this.camera1.target.x=this.meshes[1].position.x,this.camera1.target.y=this.meshes[1].position.y+this.compensate.y,this.camera1.target.z=this.meshes[1].position.z,setTimeout(()=>{this.loaded.value=!0},1500)}Switch(){var e=new x;if(e.setEasingMode(y.EASINGMODE_EASEINOUT),this.currentTarget==="detector"){this.camera1.useAutoRotationBehavior=!1;var t=n.CreateAndStartAnimation("at5",this.camera1,"target",60,60,this.camera1.target,new r(this.meshes[1].position.x,this.meshes[1].position.y+this.compensate.y,this.meshes[1].position.z),0,e),t=n.CreateAndStartAnimation("at5",this.camera1,"radius",60,60,this.camera1.radius,this.radius,0,e);t.disposeOnEnd=!0,this.currentTarget="GuaGua"}else{var t=n.CreateAndStartAnimation("at5",this.camera1,"target",60,60,this.camera1.target,new r(this.meshes[0].position.x+1.5,this.meshes[0].position.y+this.compensate.y,this.meshes[0].position.z),0,e),t=n.CreateAndStartAnimation("at5",this.camera1,"radius",60,60,this.camera1.radius,this.radius+3,0,e);t.disposeOnEnd=!0,this.camera1.useAutoRotationBehavior=!0,this.camera1.autoRotationBehavior.idleRotationSpeed=1,this.currentTarget="detector"}}CreateCamera(){this.camera1=new _("camera1",Math.PI/2,Math.PI*22/72,4,r.Zero(),this.scene),window.innerHeight/window.innerWidth>1.76&&(this.camera1.radius=7)}}const T=a("div",{class:"text-white"},"It's Summer Now",-1),I=a("div",{class:"text-lg text-gray-300 sm:text-2xl"},[a("div",null,"Xiao Liu is going to"),a("div",null,"pursue meaningful people and things")],-1),R=E('<div class="loader"><div class="roller"></div><div class="roller"></div></div><div id="loader2" class="loader"><div class="roller"></div><div class="roller"></div></div><div id="loader3" class="loader"><div class="roller"></div><div class="roller"></div></div>',3),z=[R],G=f({setup(i){const e=d(),t=d(!1);let c;C(()=>{c=new M(e.value,t)});function h(){c.Switch()}return(B,D)=>(S(),A(b,null,[a("canvas",{ref_key:"bjsCanvas",ref:e,class:o(["h-screen w-full opacity-0 transition duration-1000",{"opacity-100":t.value}])},null,2),a("div",{class:o(["absolute top-24 left-8 select-none p-4 pt-2 text-4xl opacity-0 transition duration-1000 sm:left-28 sm:top-1/3 sm:text-5xl",{"opacity-100":t.value}])},[T,I,a("button",{onClick:h,class:"mt-5 rounded-lg border px-2 text-4xl text-white transition ease-in-out hover:-translate-y-1 hover:shadow-lg"}," Pull ")],2),a("div",{class:o(["loader-wrapper transition duration-1000",{"opacity-0":t.value}])},z,2)],64))}});export{G as default};
